{"version":3,"sources":["../../../src/use-cases/auth/authenticate-service.ts"],"sourcesContent":["import { User, IUser } from '@/models/User'\n\nimport { error } from 'elysia'\n\nexport const authenticateUserService = async ({ email, password }: IUser) => {\n  const user = await User.findOne({ email })\n\n  if (!user) {\n    error(401, 'Email not registered')\n  }\n\n  const passwordMatch = user?.comparePassword?.(password)\n\n  if (!passwordMatch) {\n    error(401, 'Invalid credentials')\n  }\n\n  return user\n}\n"],"names":["authenticateUserService","email","password","user","User","findOne","error","passwordMatch","comparePassword"],"mappings":";;;;+BAIaA;;;eAAAA;;;sBAJe;wBAEN;AAEf,MAAMA,0BAA0B,OAAO,EAAEC,KAAK,EAAEC,QAAQ,EAAS;IACtE,MAAMC,OAAO,MAAMC,UAAI,CAACC,OAAO,CAAC;QAAEJ;IAAM;IAExC,IAAI,CAACE,MAAM;QACTG,IAAAA,aAAK,EAAC,KAAK;IACb;IAEA,MAAMC,gBAAgBJ,MAAMK,kBAAkBN;IAE9C,IAAI,CAACK,eAAe;QAClBD,IAAAA,aAAK,EAAC,KAAK;IACb;IAEA,OAAOH;AACT"}